
# 1. ä½¿ç”¨ä¸åŒçš„å¼€å‘æ¿å†…æ ¸æ—? ä¸€å®šè¦ä¿®æ”¹KERN_DIR
# 2. KERN_DIRä¸­çš„å†…æ ¸è¦äº‹å…ˆé…ç½®ã€ç¼–è¯? ä¸ºäº†èƒ½ç¼–è¯‘å†…æ ? è¦å…ˆè®¾ç½®ä¸‹åˆ—ç¯å¢ƒå˜é‡:
# 2.1 ARCH,          æ¯”å¦‚: export ARCH=arm64
# 2.2 CROSS_COMPILE, æ¯”å¦‚: export CROSS_COMPILE=aarch64-linux-gnu-
# 2.3 PATH,          æ¯”å¦‚: export PATH=$PATH:/home/book/100ask_roc-rk3399-pc/ToolChain-6.3.1/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin 
# æ³¨æ„: ä¸åŒçš„å¼€å‘æ¿ä¸åŒçš„ç¼–è¯‘å™¨ä¸Šè¿°3ä¸ªç¯å¢ƒå˜é‡ä¸ä¸€å®šç›¸å?
#       è¯·å‚è€ƒå„å¼€å‘æ¿çš„é«˜çº§ç”¨æˆ·ä½¿ç”¨æ‰‹å†?

KERN_DIR = /home/book/100ask_imx6ull-sdk/Linux-4.9.88

all:
	make -C $(KERN_DIR) M=`pwd` modules 
	$(CROSS_COMPILE)gcc -o adxl345test adxl345test.c


clean:
	make -C $(KERN_DIR) M=`pwd` modules clean
	rm -rf modules.order adxl345test

# å‚è€ƒå†…æ ¸æºç drivers/char/ipmi/Makefile
# è¦æƒ³æŠŠa.c, b.cç¼–è¯‘æˆab.ko, å¯ä»¥è¿™æ ·æŒ‡å®š:
# ab-y := a.o b.o
# obj-m += ab.o


adxl345drv-y := adxl345drv_1.o
obj-m += adxl345drv.o

